(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[0],{17:function(e,t,a){},23:function(e,t,a){},27:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),s=a(18),r=a.n(s),i=(a(23),a(10)),o=a(8),l=(a(27),a(12)),u=a.n(l),j=a(15),m=a.n(j),b=(a(17),a(3)),d=function(e){var t=e.getLoginDate,a=e.onLink,c=Object(n.useState)(""),s=Object(o.a)(c,2),r=s[0],i=s[1],l=Object(n.useState)(""),j=Object(o.a)(l,2),m=j[0],d=j[1],p=Object(n.useState)(!1),_=Object(o.a)(p,2),h=_[0],O=_[1],g=Object(n.useState)(!1),f=Object(o.a)(g,2),x=f[0],v=f[1];return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("div",{className:"Form",children:[Object(b.jsx)("h2",{className:"Form__title",children:"Login"}),Object(b.jsxs)("form",{className:"Form__inputs",onSubmit:function(e){e.preventDefault(),r&&m&&(t(r,m),i(""),d(""),O(!1),v(!1)),r||O(!0),m||v(!0)},children:[h&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Wrong Email "}),Object(b.jsx)("input",{type:"text",value:r,className:u()({Form__input:!0,"Form__input--isError":h}),placeholder:"Email",onChange:function(e){i(e.target.value),O(!1)}}),x&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Wrong Password "}),Object(b.jsx)("input",{type:"password",value:m,className:u()({Form__input:!0,"Form__input--isError":x}),placeholder:"Password",onChange:function(e){d(e.target.value),v(!1)}}),Object(b.jsx)("input",{type:"submit",className:"Form__button",value:"Login"})]}),Object(b.jsxs)("button",{type:"button",className:"Form__link",onClick:a,children:["Don\u2019t have an account yet?",Object(b.jsx)("span",{className:"Form__link--black",children:" Register"})]})]})})};d.propTyes={getLoginDate:m.a.func.isRequired,onLink:m.a.func.isRequired};a(31);var p=function(e){var t=e.outLogin,a=e.time,c=e.desktopClock,s=Object(n.useState)(0),r=Object(o.a)(s,2),i=r[0],l=r[1];Object(n.useEffect)((function(){var e=a,t=setInterval((function(){u(e+=1)}),1e3);return function(){clearInterval(t)}}),[]);var u=function(e){l(e)},j=Math.floor(i/3600),m=Math.floor(i/60%60),d=i%60;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{type:"button",className:"MainPage__button",value:"Log out",onClick:function(){t(i)}}),Object(b.jsxs)("div",{className:"MainPage",children:[Object(b.jsxs)("div",{className:"MainPage__clock-wrapper",children:[Object(b.jsx)("h2",{className:"MainPage__title",children:"Desktop computer"}),Object(b.jsx)("div",{className:"MainPage__clock",children:Object(b.jsx)("div",{className:"MainPage__clock-image"})}),c?Object(b.jsxs)("div",{className:"MainPage__timer",children:["".concat(Math.floor(j/10)).concat(j%10,":"),"".concat(Math.floor(m/10)).concat(m%10,":"),"".concat(Math.floor(d/10)).concat(d%10)]}):Object(b.jsx)("div",{className:"MainPage__timer",children:"00:00:00"})]}),Object(b.jsxs)("div",{className:"MainPage__clock-wrapper",children:[Object(b.jsx)("h2",{className:"MainPage__title",children:"Mobile"}),Object(b.jsx)("div",{className:"MainPage__clock",children:Object(b.jsx)("div",{className:"MainPage__clock-image"})}),c?Object(b.jsx)("div",{className:"MainPage__timer",children:"00:00:00"}):Object(b.jsxs)("div",{className:"MainPage__timer",children:["".concat(Math.floor(j/10)).concat(j%10,":"),"".concat(Math.floor(m/10)).concat(m%10,":"),"".concat(Math.floor(d/10)).concat(d%10)]})]})]})]})},_=function(e){var t=e.getRegisterDate,a=e.linkToLogin,c=Object(n.useState)(""),s=Object(o.a)(c,2),r=s[0],i=s[1],l=Object(n.useState)(""),j=Object(o.a)(l,2),m=j[0],d=j[1],p=Object(n.useState)(""),_=Object(o.a)(p,2),h=_[0],O=_[1],g=Object(n.useState)(""),f=Object(o.a)(g,2),x=f[0],v=f[1],N=Object(n.useState)(!1),F=Object(o.a)(N,2),k=F[0],M=F[1],w=Object(n.useState)(!1),S=Object(o.a)(w,2),P=S[0],y=S[1],L=Object(n.useState)(!1),D=Object(o.a)(L,2),E=D[0],I=D[1],C=Object(n.useState)(!1),T=Object(o.a)(C,2),R=T[0],W=T[1];return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("div",{className:"Form",id:"reg",children:[Object(b.jsx)("h2",{className:"Form__title Form__title--register",children:"Register"}),Object(b.jsxs)("form",{className:"Form__inputs",onSubmit:function(e){e.preventDefault(),r&&m&&h&&x.length>=6&&h.includes("@")&&x.match(/[a-z\u0430-\u044f]/i)&&(t(h,x,r,m),i(""),d(""),O(""),v(""),M(!1),y(!1),I(!1),W(!1)),(x.length<6||!x.match(/[a-z\u0430-\u044f]/i))&&y(!0),r||I(!0),m||W(!0),h&&h.includes("@")||M(!0)},children:[E&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Please enter your name "}),Object(b.jsx)("input",{type:"text",value:r,className:u()({"Form__input--register":!0,Form__input:!0,"Form__input--isError":E}),placeholder:"First name",onChange:function(e){i(e.target.value),I(!1)}}),R&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Please enter your surname "}),Object(b.jsx)("input",{type:"text",value:m,className:u()({"Form__input--register":!0,Form__input:!0,"Form__input--isError":R}),placeholder:"Last name",onChange:function(e){d(e.target.value),W(!1)}}),k&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Enter email to login "}),Object(b.jsx)("input",{type:"text",value:h,className:u()({"Form__input--register":!0,Form__input:!0,"Form__input--isError":k}),placeholder:"Email",onChange:function(e){O(e.target.value),M(!1)}}),P&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Enter password to login "}),Object(b.jsx)("input",{type:"password",value:x,className:u()({"Form__input--regLast":!0,Form__input:!0,"Form__input--isError":P}),placeholder:"Password",onChange:function(e){v(e.target.value),y(!1)}}),P&&Object(b.jsx)("p",{style:{whiteSpace:"nowrap"},children:"at least 6 with numbers and letters"}),Object(b.jsx)("input",{type:"submit",className:"Form__button Form__button--register",value:"Sing up"})]}),Object(b.jsxs)("span",{onClick:a,"aria-hidden":"true",className:"Form__link Form__link--register",children:["Already registered?",Object(b.jsx)("span",{className:"Form__link--black",children:" Log in"})]})]})})};var h=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),r=Object(o.a)(s,2),l=r[0],u=r[1],j=Object(n.useState)({}),m=Object(o.a)(j,2),h=m[0],O=m[1],g=Object(n.useMemo)((function(){return window.innerWidth>1024}),[a]);return Object(b.jsxs)(b.Fragment,{children:[l&&Object(b.jsx)(d,{getLoginDate:function(e,t){i.a.auth().signInWithEmailAndPassword(e,t).then((function(){var e=i.a.auth().currentUser;(g?i.a.database().ref("".concat(e.uid,"/DesktopTime")):i.a.database().ref("".concat(e.uid,"/MobileTime"))).on("value",(function(e){O(e.val()),c(!0),u(!1)}))})).catch((function(e){c(!1),u(!1),console.log(e)}))},onLink:function(){c(!1),u(!1)}}),a||l?a&&Object(b.jsx)(p,{time:h.count,outLogin:function(e){var t=i.a.auth().currentUser;i.a.database().ref(t.uid+(g?"/DesktopTime":"/MobileTime")).set({count:e}),i.a.auth().signOut().then((function(){console.log("Logged out!")}),(function(e){console.log(e.code),console.log(e.message)})).then((function(){c(!1),u(!0)}))},desktopClock:g}):Object(b.jsx)(_,{getRegisterDate:function(e,t,a,n){i.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){u(!0);var t=e.user,c=i.a.database();c.ref("".concat(t.uid,"/firstName")).set({firstName:a}),c.ref("".concat(t.uid,"/lastName")).set({lastName:n}),c.ref("".concat(t.uid,"/DesktopTime")).set({count:0}),c.ref("".concat(t.uid,"/MobileTime")).set({count:0})})).catch((function(e){return console.log(e)}))},linkToLogin:function(){u(!0)}})]})};i.a.initializeApp({apiKey:"AIzaSyDibq8V-pulg4xQTv4IW4peD8DFCg_zZEI",authDomain:"fire-base-new08.firebaseapp.com",databaseURL:"https://fire-base-new08-default-rtdb.firebaseio.com",projectId:"fire-base-new08",storageBucket:"fire-base-new08.appspot.com",messagingSenderId:"949037149013",appId:"1:949037149013:web:9ec20ba2b1b0a5768cdddc"}),r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.91479bc0.chunk.js.map