(this["webpackJsonpnew-app"]=this["webpackJsonpnew-app"]||[]).push([[0],{17:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),s=a(18),r=a.n(s),i=(a(23),a(8)),o=(a(24),a(10)),l=a(12),u=a.n(l),j=a(15),m=a.n(j),b=(a(17),a(3)),d=function(e){var t=e.getLoginDate,a=e.onLink,c=Object(n.useState)(""),s=Object(i.a)(c,2),r=s[0],o=s[1],l=Object(n.useState)(""),j=Object(i.a)(l,2),m=j[0],d=j[1],_=Object(n.useState)(!1),p=Object(i.a)(_,2),O=p[0],g=p[1],h=Object(n.useState)(!1),f=Object(i.a)(h,2),x=f[0],v=f[1];return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("div",{className:"Form",children:[Object(b.jsx)("h2",{className:"Form__title",children:"Login"}),Object(b.jsxs)("form",{className:"Form__inputs",onSubmit:function(e){e.preventDefault(),r&&m&&(t(r,m),o(""),d(""),g(!1),v(!1)),!r&&g(!0),!m&&v(!0)},children:[O&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Wrong Email "}),Object(b.jsx)("input",{type:"text",value:r,className:u()({Form__input:!0,"Form__input--isError":O}),placeholder:"Email",onChange:function(e){o(e.target.value),g(!1)}}),x&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Wrong Password "}),Object(b.jsx)("input",{type:"password",value:m,className:u()({Form__input:!0,"Form__input--isError":x}),placeholder:"Password",onChange:function(e){d(e.target.value),v(!1)}}),Object(b.jsx)("input",{type:"submit",className:"Form__button",value:"Login"})]}),Object(b.jsxs)("button",{className:"Form__link",onClick:a,children:["Don\u2019t have an account yet?",Object(b.jsx)("span",{className:"Form__link--black",children:" Register"})]})]})})};d.propTyes={getLoginDate:m.a.func.isRequired,onLink:m.a.func.isRequired};a(31);var _=function(e){var t=e.outLogin,a=e.time,c=e.desktopClock,s=Object(n.useState)(0),r=Object(i.a)(s,2),o=r[0],l=r[1];Object(n.useEffect)((function(){var e=a,t=setInterval((function(){console.log("sec"),u(e++)}),1e3);return function(){clearInterval(t)}}),[]);var u=function(e){l(e)},j=Math.floor(o/3600),m=Math.floor(o/60%60),d=o%60;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("input",{type:"button",className:"MainPage__button",value:"Log out",onClick:function(){t(o)}}),Object(b.jsxs)("div",{className:"MainPage",children:[Object(b.jsxs)("div",{className:"MainPage__clock-wrapper",children:[Object(b.jsx)("h2",{className:"MainPage__title",children:"Desktop"}),Object(b.jsx)("div",{className:"MainPage__clock",children:Object(b.jsx)("div",{className:"MainPage__clock-image"})}),c?Object(b.jsxs)("div",{className:"MainPage__timer",children:["".concat(Math.floor(j/10)).concat(j%10,":"),"".concat(Math.floor(m/10)).concat(m%10,":"),"".concat(Math.floor(d/10)).concat(d%10)]}):Object(b.jsx)("div",{className:"MainPage__timer",children:"00:00:00"})]}),Object(b.jsxs)("div",{className:"MainPage__clock-wrapper",children:[Object(b.jsx)("h2",{className:"MainPage__title",children:"Mobile"}),Object(b.jsx)("div",{className:"MainPage__clock",children:Object(b.jsx)("div",{className:"MainPage__clock-image"})}),c?Object(b.jsx)("div",{className:"MainPage__timer",children:"00:00:00"}):Object(b.jsxs)("div",{className:"MainPage__timer",children:["".concat(Math.floor(j/10)).concat(j%10,":"),"".concat(Math.floor(m/10)).concat(m%10,":"),"".concat(Math.floor(d/10)).concat(d%10)]})]})]})]})},p=function(e){var t=e.getRegisterDate,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),j=l[0],m=l[1],d=Object(n.useState)(""),_=Object(i.a)(d,2),p=_[0],O=_[1],g=Object(n.useState)(""),h=Object(i.a)(g,2),f=h[0],x=h[1],v=Object(n.useState)(!1),N=Object(i.a)(v,2),F=N[0],k=N[1],M=Object(n.useState)(!1),w=Object(i.a)(M,2),S=w[0],P=w[1],y=Object(n.useState)(!1),D=Object(i.a)(y,2),E=D[0],I=D[1],L=Object(n.useState)(!1),C=Object(i.a)(L,2),T=C[0],R=C[1];return Object(b.jsx)("div",{className:"wrapper",children:Object(b.jsxs)("div",{className:"Form",id:"reg",children:[Object(b.jsx)("h2",{className:"Form__title Form__title--register",children:"Register"}),Object(b.jsxs)("form",{className:"Form__inputs",onSubmit:function(e){e.preventDefault(),s&&j&&p&&f&&p.includes("@")&&(t(p,f,s,j),r(""),m(""),O(""),x(""),k(!1),P(!1),I(!1),R(!1)),!f&&P(!0),!s&&I(!0),!j&&R(!0),(!p||!p.includes("@"))&&k(!0)},children:[E&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Please enter your name "}),Object(b.jsx)("input",{type:"text",value:s,className:u()({"Form__input--register":!0,Form__input:!0,"Form__input--isError":E}),placeholder:"First name",onChange:function(e){r(e.target.value),I(!1)}}),T&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Please enter your surname "}),Object(b.jsx)("input",{type:"text",value:j,className:u()({"Form__input--register":!0,Form__input:!0,"Form__input--isError":T}),placeholder:"Last name",onChange:function(e){m(e.target.value),R(!1)}}),F&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Enter email to login "}),Object(b.jsx)("input",{type:"text",value:p,className:u()({"Form__input--register":!0,Form__input:!0,"Form__input--isError":F}),placeholder:"Email",onChange:function(e){O(e.target.value),k(!1)}}),S&&Object(b.jsx)("p",{className:"Form__errorInfo",children:" Enter password to login "}),Object(b.jsx)("input",{type:"password",value:f,className:u()({"Form__input--regLast":!0,Form__input:!0,"Form__input--isError":S}),placeholder:"Password",onChange:function(e){x(e.target.value),P(!1)}}),Object(b.jsx)("input",{type:"submit",className:"Form__button Form__button--register",value:"Sing up"})]}),Object(b.jsxs)("a",{href:"/",className:"Form__link Form__link--register",children:["Already registered?",Object(b.jsx)("span",{className:"Form__link--black",children:" Log in"})]})]})})};var O=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!0),r=Object(i.a)(s,2),l=r[0],u=r[1],j=Object(n.useState)({}),m=Object(i.a)(j,2),O=m[0],g=m[1],h=Object(n.useMemo)((function(){return window.innerWidth>1024}),[a]);return Object(b.jsxs)(b.Fragment,{children:[l&&Object(b.jsx)(d,{getLoginDate:function(e,t){o.a.auth().signInWithEmailAndPassword(e,t).then((function(){var e=o.a.auth().currentUser;(h?o.a.database().ref(e.uid+"/DesktopTime"):o.a.database().ref(e.uid+"/MobileTime")).on("value",(function(e){g(e.val()),c(!0),u(!1)}))})).catch((function(e){c(!1),u(!1),console.log(e)}))},onLink:function(){c(!1),u(!1)}}),a||l?a&&Object(b.jsx)(_,{time:O.count,outLogin:function(e){var t=o.a.auth().currentUser;o.a.database().ref(t.uid+(h?"/DesktopTime":"/MobileTime")).set({count:e}),o.a.auth().signOut().then((function(){console.log("Logged out!")}),(function(e){console.log(e.code),console.log(e.message)})).then((function(){c(!1),u(!0)}))},desktopClock:h}):Object(b.jsx)(p,{getRegisterDate:function(e,t,a,n){o.a.auth().createUserWithEmailAndPassword(e,t).then((function(e){u(!0);var t=e.user,c=o.a.database();c.ref(t.uid+"/firstName").set({firstName:a}),c.ref(t.uid+"/lastName").set({lastName:n}),c.ref(t.uid+"/DesktopTime").set({count:0}),c.ref(t.uid+"/MobileTime").set({count:0})})).catch((function(e){return console.log(e)}))}})]})};o.a.initializeApp({apiKey:"AIzaSyDibq8V-pulg4xQTv4IW4peD8DFCg_zZEI",authDomain:"fire-base-new08.firebaseapp.com",databaseURL:"https://fire-base-new08-default-rtdb.firebaseio.com",projectId:"fire-base-new08",storageBucket:"fire-base-new08.appspot.com",messagingSenderId:"949037149013",appId:"1:949037149013:web:9ec20ba2b1b0a5768cdddc"}),r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.2bc25557.chunk.js.map